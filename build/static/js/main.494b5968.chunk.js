(this["webpackJsonpreact-demo"]=this["webpackJsonpreact-demo"]||[]).push([[0],{112:function(e,t,a){e.exports=a(192)},117:function(e,t,a){},191:function(e,t,a){},192:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(8),s=a.n(o),i=a(92),c=a(93),l=a(94),m=a(107),u=a(95),h=a(108),d=(a(117),a(198)),g=a(200),N=a(199),p=a(72),f=a(106),_=a(195),v=a(197),y=a(196);function C(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function O(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(Object(a),!0).forEach((function(t){Object(i.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var w=d.a.Search,E=function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).firstRender=function(e){var t,n=a.initCalculateWidthAndHeight(e),r=n.widCount,o=n.heightCount;t=a.calculateCount(r,o),a.setState(t)},a.handleDrag=function(e){(e||window.event).preventDefault()},a.handleDragStart=function(e){var t=e||window.event;t.dataTransfer.setData("fromIndex",t.target.getAttribute("data-index"));var a=document.getElementsByClassName("customize_sort_root")[0];a.className="".concat(a.className," sorting_style")},a.handleDragOver=function(e){(e||window.event).preventDefault()},a.handleDrop=function(e){var t=e||window.event,n=t.target.getAttribute("data-index"),r=t.dataTransfer.getData("fromIndex");if("string"===typeof n&&n!==r){var o=a.state.goodsData,s=+r>+n?+r+1:r;o.splice(n,0,o[r]),o.splice(s,1);var i=+r>+n?n:n-1;a.setState({goodsData:o},(function(){var e="product_sort_li_"+i,t=document.getElementsByClassName(e)[0];t.className="".concat(e," insert_move"),setTimeout((function(){t.className=e}),1100)}))}},a.handleDragEnd=function(){document.getElementsByClassName("customize_sort_root")[0].className="customize_sort_container customize_sort_root"},a.setRowCount=function(e){if(!("number"!==typeof e||e<1)){var t=a.calculateCount(e,a.state.Column_Count);a.setState(t,a.judegeWarning)}},a.setColumnCount=function(e){if(!("number"!==typeof e||e<1)){var t=a.calculateCount(a.state.Row_Count,e);delete t.Product_Width,a.setState(t,a.judegeWarning)}},a.judegeWarning=function(){2*(a.state.Row_Count+a.state.Column_Count)<a.state.goodsData.length&&g.a.warning("\u6ce8\u610f\uff1a\u60a8\u8bbe\u7f6e\u7684\u5e03\u5c40\u7a7a\u95f4\u4e0d\u8db3\u4ee5\u653e\u7f6e\u6240\u6709\u5546\u54c1")},a.calculateCount=function(e,t){var a=e+t;return{Row_Count:e,Column_Count:t,Three_Origin:a,Four_Origin:a+e,Product_Width:100/e+"%"}},a.initCalculateWidthAndHeight=function(e){var t=Math.ceil(e/8-1.5);return{widCount:Math.ceil(3*t+6),heightCount:t}},a.judgeSearchProduct=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.includes(a.state.keywords);return{background:t?"#FB0A29":"#fff",isSearch:t}},a.handleSearch=function(e){e||(e=null),a.setState({keywords:e})},a.saveSort=function(){a.setState({initData:JSON.parse(JSON.stringify(a.state.goodsData)),pageLoading:!0}),setTimeout((function(){a.setState({pageLoading:!1}),g.a.success("\u4fdd\u5b58\u6210\u529f")}),500)},a.resetSort=function(){a.setState({goodsData:JSON.parse(JSON.stringify(a.state.initData))},(function(){g.a.success("\u5df2\u91cd\u7f6e")}))},a.extraRender=function(){return r.a.createElement("div",null,r.a.createElement(w,{placeholder:"\u641c\u7d22\u5546\u54c1\u540d\u79f0",style:{width:120,marginRight:8},onSearch:a.handleSearch}),"\u5546\u54c1\u6570\u91cf\uff1a",r.a.createElement("span",{className:"goods_count_tips"},a.state.goodsData.length),"\u884c\u6570\u91cf\uff1a",r.a.createElement(N.a,{value:a.state.Row_Count,onChange:a.setRowCount,precision:0,min:1,style:{marginRight:5}}),"\u5217\u6570\u91cf\uff1a",r.a.createElement(N.a,{value:a.state.Column_Count,onChange:a.setColumnCount,precision:0,min:1,style:{marginRight:5}}),r.a.createElement(p.a,{onClick:a.resetSort,style:{marginRight:5}},"\u91cd\u7f6e\u6392\u5e8f"),r.a.createElement(p.a,{onClick:a.saveSort,type:"primary"},"\u4fdd\u5b58\u6392\u5e8f"))},a.liRender=function(e,t,n){var o={};return n&&(o.width=a.state.Product_Width),JSON.parse(JSON.stringify(a.state.goodsData)).splice(e,t).map((function(t,n){var s=a.judgeSearchProduct(t.shortName),i=s.background,c=s.isSearch,l=n+e;return r.a.createElement("li",{"data-index":l,key:l,style:O({},o,{background:i}),draggable:"true",className:"product_sort_li_"+l},r.a.createElement("div",{className:"index_text"},l+1),r.a.createElement("div",{className:"blank_placeholder_box","data-index":l}),r.a.createElement("div",{className:"product_name","data-index":l},c?r.a.createElement(f.a,{getPopupContainer:function(){return document.getElementsByClassName("customize_sort_root")[0]},title:t.shortName,visible:!0,key:"show"},r.a.createElement("span",{"data-index":l},t.shortName)):r.a.createElement(f.a,{title:t.shortName,key:"default"},r.a.createElement("span",{"data-index":l},t.shortName))))}))};return a.state={goodsData:[{shortName:"\u5927\u7897\u725b\u8169\u6cb3\u7c89"},{shortName:"\u66b4\u529b\u5c0f\u756a\u8304"},{shortName:"\u732a\u80a0\u7c89"},{shortName:"\u65e0\u9aa8\u4ed9\u638c"},{shortName:"\u86cb\u9ec4\u6d41\u6c99\u5305"},{shortName:"\u9999\u8fa3\u9c7c\u86cb"},{shortName:"\u79d8\u5236\u9178\u83dcdd"},{shortName:"\u6392\u9aa8\u9648\u6751\u7c89"},{shortName:"\u571f\u8c46\u6c99\u62c9"},{shortName:"\u8089\u9171\u8f66\u4ed4\u9762\uff08\u539f\u5473\uff09"},{shortName:"\u9999\u714e\u9e21\u6252"},{shortName:"\u6ce1\u6912\u51e4\u722a"},{shortName:"\u9ebb\u8fa3\u70eb"},{shortName:"\u6c34\u716e\u725b\u8089"},{shortName:"\u76ae\u86cb\u7626\u8089\u7ca5"},{shortName:"\u65e5\u5f0f\u714e\u997a"},{shortName:"\u9999\u8fa3\u9c7c\u5757"},{shortName:"\u9999\u83c7\u8089\u997a\u5b50(4\u4e2a)"},{shortName:"\u82b1\u65d7\u53c2\u8089\u6c41\u6c64"},{shortName:"\u8336\u53f6\u86cb"},{shortName:"\u5496\u55b1\u9c7c\u86cb"},{shortName:"\u725b\u8089\u7403"},{shortName:"\u9c7c\u76ae\u997a"},{shortName:"\u767d\u996d"},{shortName:"\u6842\u6797\u7c73\u7c89"},{shortName:"\u8089\u83dc\u5305 \u4e00\u4e2a"},{shortName:"\u6d77\u8707\u4e1d"},{shortName:"\u7476\u67f1\u767d\u679c\u7ca5"},{shortName:"\u723d\u53e3\u6ce1\u83dc"},{shortName:"\u6e2f\u5f0f\u4e91\u541e\u9762"},{shortName:"\u9e21\u4e2d\u7fc5"},{shortName:"\u6cb9\u76d0\u996d"},{shortName:"\u5364\u8089\u996d\u56e2"},{shortName:"\u8089\u9171\u8f66\u4ed4\u9762(\u8fa3\u5473)"},{shortName:"\u6ce2\u6ce2\u80a0"},{shortName:"\u866b\u8349\u82b1\u7096\u9e21\u811a\u6c64"},{shortName:"\u9c7c\u9999\u8304\u5b50"},{shortName:"\u9c9c\u867e\u9c7f\u9c7c\u6d77\u9c9c\u71d5\u9ea6\u6c64\u9762"},{shortName:"\u9a6c\u62c9\u7092\u996d"},{shortName:"\u8089\u9171\u829d\u58eb\u7117\u996d"},{shortName:"\u817f\u8089\u86cb\u4e09\u6587\u6cbb"},{shortName:"\u6d77\u5e26\u9ec4\u8c46\u6c64"},{shortName:"\u9999\u8fa3\u9c7c\u8c46\u8150(5\u7c92)"},{shortName:"\u9ed1\u6912\u9e21\u6252"},{shortName:"\u6d77\u9c9c\u6c64\u996d"},{shortName:"\u5496\u55b1\u9c7c\u8c46\u8150(5\u7c92)"},{shortName:"\u8106\u76ae\u841d\u535c"},{shortName:"\u6e05\u53e3\u6bdb\u8c46(\u51b7\u98df)"},{shortName:"\u624b\u5de5\u9178\u5976"},{shortName:"\u8f66\u4ed4\u9762"},{shortName:"\u56db\u6d77\u9c7c\u8089\u70e7\u9ea6"},{shortName:"\u7cef\u7c73\u9e21(1\u4e2a)"},{shortName:"\u5357\u74dc\u7ca5"},{shortName:"\u51c9\u62cc\u9c7c\u76ae"},{shortName:"\u9999\u8fa3\u9e21\u7fc5"},{shortName:"\u8001\u5317\u4eac\u9e21\u5377"},{shortName:"\u4e09\u9c9c\u7ca5"},{shortName:"\u4e09\u53ca\u7b2c\u6c64"},{shortName:"\u5ba2\u5bb6\u814c\u9762"},{shortName:"\u6e05\u6c64\u8089\u4e38"}],initData:[],Row_Count:18,Column_Count:6,Three_Origin:24,Four_Origin:42,Product_Width:100/18+"%",pageLoading:!1,keywords:null},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.firstRender(this.state.goodsData.length),this.setState({initData:JSON.parse(JSON.stringify(this.state.goodsData))})}},{key:"render",value:function(){var e=this.state,t=e.Row_Count,a=e.Column_Count,n=e.Three_Origin,o=e.Four_Origin,s=e.Product_Width;return r.a.createElement("div",{className:"page"},r.a.createElement(_.a,{spinning:e.pageLoading},r.a.createElement(v.a,{routes:this.props.routes,params:this.props.params}),r.a.createElement(y.a,{className:"customize_sort_card",bordered:!1,title:"\u73af\u5f62\u5e03\u5c40+\u62d6\u62fd\u6392\u5e8f",extra:this.extraRender()},e.goodsData.length?null:r.a.createElement("div",{className:"empty_txt"},"\u6682\u65e0\u5546\u54c1"),r.a.createElement("div",{className:"customize_sort_container customize_sort_root",onDrag:this.handleDrag,onDragStart:this.handleDragStart,onDragOver:this.handleDragOver,onDragEnd:this.handleDragEnd,onDrop:this.handleDrop},r.a.createElement("section",null,r.a.createElement("ul",null,this.liRender(0,t,!0))),r.a.createElement("section",null,r.a.createElement("ul",{style:{width:s}},this.liRender(t,a))),r.a.createElement("section",null,r.a.createElement("ul",{style:{width:s}},JSON.parse(JSON.stringify(e.goodsData)).splice(o,a).length?r.a.createElement("li",{className:"blank_placeholder_li"}):null,this.liRender(o,a))),r.a.createElement("section",null,r.a.createElement("ul",null,this.liRender(n,t,!0)))))))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(190),a(191);s.a.render(r.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[112,1,2]]]);
//# sourceMappingURL=main.494b5968.chunk.js.map